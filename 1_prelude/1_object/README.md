# この章について

この章ではRubyを学ぶ上で最も基本的な事柄であるオブジェクトについて学びます。具体的には、オブジェクトの中核となるメソッドと、オブジェクトを秩序付ける方法であるクラスを取り上げます。また、Rubyを実行する上で最も手軽な手段であるIRBと、ファイルにRubyのコードを記述して`puts`で出力する方法の違いについても取り上げています。

# オブジェクト

「Rubyでは、すべてのものはオブジェクトです。」
https://www.ruby-lang.org/ja/about/

公式サイトを読むと、上のようなことが書かれています。なるほど、すべてのものはオブジェクトであるなら、Rubyを理解するためにはオブジェクトを理解することが必要ということになります。
では、オブジェクトとは一体なんなのでしょうか。

## オブジェクトとはなんなのか

オブジェクトの定義については色々なものがありますが、ひとまずは「データとメソッドの集合」と捉えるとよいでしょう（メソッドについては後述します）。
一つの例を示します。なお、READMEにおける例はIRBでの実行を想定しています。皆さんもぜひお手元で試してみてください。

```ruby
"I love Ruby."
=> "I love Ruby."
```

文字列の"I love Ruby."を表すオブジェクトを作成しました。`#`の次にあるのはそのオブジェクトがRubyからどう見えているのかを示しています。この場合、文字列の中身がそのまま出力されていますね。

しかし、これだけでは不便です。というより、何も意味のあることができません。ここでメソッドが登場します。

## メソッド

メソッドはオブジェクトに対する命令だと考えてください。メソッドはオブジェクトに対して様々な作用を持ちます（というより、オブジェクトの相互作用を実現するための方法がメソッドです）。Rubyは豊富な組み込みのメソッド（私達が自分で定義しなくてもよいもの）を持ちます。以下がその例です。

```ruby
"I love Ruby.".length
=> 12
```

ここでは文字列である"I love Ruby."の長さを取得しています。正しい結果が取得できたようですね。

文字列が持つメソッドは非常に豊富であり、結合や比較、さらには置換など思いつくことはたいていできます。例えば置換には`sub`を用います。

```ruby
"I love Ruby.".sub('Ruby', 'programming')
=> "I love programming."
```

ここで`sub`の後ろの括弧の中にあるものを「引数（ひきすう）」と呼びます。引数についてはメソッド定義の章で詳しく説明します。

ところで、メソッドはオブジェクトに対する命令だと書きました。ここで注意したいのは、オブジェクトが応答する命令は限られているということです。オブジェクトが応答しない命令はエラーになります。例えば、文字列は加算可能ですが…

```ruby
"I love Ruby." + " I also love Python."
=> "I love Ruby. I also love Python."
```

文字列は減算できません。

```ruby
"I love Ruby." - "I"
=> エラー
```

このように、オブジェクトごとに応答できる命令は決まっています。ここでオブジェクトの「種類」が問題になってきます。

## クラス

先程から何度か「文字列」という単語を断りなく使っていました。以下の例を見てください。

```ruby
"I love Ruby."
=> "I love Ruby."
" I love programming."
=> " I love programming."
```

どちらも「文字列」であるのがわかるかと思います。これらは「種類」が同じオブジェクトである、とも言えますね。ここでオブジェクトの種類のことを「クラス」と呼びます。文字列は正式には`String`クラスと呼ばれます。

オブジェクトは自身のクラスを知っています。クラスを知るためのメソッドは、そう、`class`メソッドです。

```ruby
"I love Ruby.".class
=> String
```

一般に、クラスが同じオブジェクトなら同じメソッドに応答することができます。

## IRBについての補足と今後の実行環境について

ここまで皆さんはIRBを使ってきました。IRBではオブジェクトやメソッドを書いたときにそれに対応する「なにか」が表示されるようになっています。これまでの例では`=>`の右に表示されていました。

これは実はIRBに固有のことです。言い換えると、Rubyのコードをファイルに書いてそれを`ruby`コマンドで実行する場合、オブジェクトを単に書いただけでは何も表示されません。

画面に出力するにはそれ専用のメソッドを使います。以下の例をご覧ください。

```ruby
puts "I love Ruby."
"I love Ruby."
=> nil
```

以前と少し違う感じですね。まず、文字列"I love Ruby."の前に`=>`がつかなくなりました。代わりに、`=> nil`という行が最後に追加されています。

このことについて充分に理解をするためには、メソッドとその返り値について学ぶ必要があります。しかし、現時点では画面への出力には`puts`を使うもの、と覚えておくだけでもよいでしょう。以降の章では、テキストエディタなどを使ってRubyコードをファイルに書き込み、それを`ruby`コマンドで実行する形式で進めていきます。

以下の各章では、以下のような記法を使います。

```ruby
puts "I love Ruby."
# => "I love Ruby."
```

ルールとしては、`puts`の出力結果を改行後`# =>`に続けて記述します。`nil`については無視します。これは単に冗長であるという理由から削っているものです。
